[{"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/index.tsx":"1","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/reportWebVitals.ts":"2","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/App.tsx":"3","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/view/Inicio.tsx":"4","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/login/view/Login.tsx":"5","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/view/Sala.tsx":"6","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/BarraNavegacionInicio.tsx":"7","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/ContenidoMaterias.tsx":"8","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/login/components/FormularioLogin.tsx":"9","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/login/components/ImagenLogin.tsx":"10","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/BarraNavegacionSala.tsx":"11","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/ChatSala.tsx":"12","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/InformacionSala.tsx":"13","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/PublicacionesSala.tsx":"14","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/TarjetaMateria.tsx":"15","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/EntradaNuevoMensajeChatSala.tsx":"16","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/MensajesChatSala.tsx":"17","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/components/BarraNavegacion.tsx":"18","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/sala.service.tsx":"19","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/login.service.tsx":"20","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/TituloTarjetaMateria.tsx":"21","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/MensajeChatSalaPropio.tsx":"22","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/MensajeChatSala.tsx":"23","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/fetch.tsx":"24","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/components/ModalPublicacion.tsx":"25","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/axios.tsx":"26","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/publicacion.service.tsx":"27","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/interfaces/Sala.tsx":"28"},{"size":478,"mtime":1611020296164,"results":"29","hashOfConfig":"30"},{"size":425,"mtime":1611020296164,"results":"31","hashOfConfig":"30"},{"size":518,"mtime":1611022881093,"results":"32","hashOfConfig":"30"},{"size":319,"mtime":1611020296164,"results":"33","hashOfConfig":"30"},{"size":509,"mtime":1611020296164,"results":"34","hashOfConfig":"30"},{"size":922,"mtime":1611035745570,"results":"35","hashOfConfig":"30"},{"size":257,"mtime":1611020296164,"results":"36","hashOfConfig":"30"},{"size":1228,"mtime":1611020296164,"results":"37","hashOfConfig":"30"},{"size":1758,"mtime":1611020296164,"results":"38","hashOfConfig":"30"},{"size":278,"mtime":1611020296164,"results":"39","hashOfConfig":"30"},{"size":394,"mtime":1611020296164,"results":"40","hashOfConfig":"30"},{"size":838,"mtime":1611093291988,"results":"41","hashOfConfig":"30"},{"size":252,"mtime":1611020296164,"results":"42","hashOfConfig":"30"},{"size":1372,"mtime":1611033291373,"results":"43","hashOfConfig":"30"},{"size":1121,"mtime":1611020296164,"results":"44","hashOfConfig":"30"},{"size":1459,"mtime":1611095892894,"results":"45","hashOfConfig":"30"},{"size":1613,"mtime":1611093248792,"results":"46","hashOfConfig":"30"},{"size":1795,"mtime":1611020296164,"results":"47","hashOfConfig":"30"},{"size":1286,"mtime":1611095689121,"results":"48","hashOfConfig":"30"},{"size":384,"mtime":1611020296164,"results":"49","hashOfConfig":"30"},{"size":1137,"mtime":1611020296164,"results":"50","hashOfConfig":"30"},{"size":594,"mtime":1611020296164,"results":"51","hashOfConfig":"30"},{"size":752,"mtime":1611037694156,"results":"52","hashOfConfig":"30"},{"size":1078,"mtime":1611093081670,"results":"53","hashOfConfig":"30"},{"size":3045,"mtime":1611020296164,"results":"54","hashOfConfig":"30"},{"size":156,"mtime":1611020296164,"results":"55","hashOfConfig":"30"},{"size":656,"mtime":1611030409880,"results":"56","hashOfConfig":"30"},{"size":84,"mtime":1611031662605,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"9sw22g",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"60"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"60"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"60"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"60"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"120"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"60"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/index.tsx",[],["126","127"],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/reportWebVitals.ts",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/App.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/view/Inicio.tsx",["128","129"],"import {\n  Col,\n  Row,\n} from 'antd';\n\nimport BarraNavegacionInicio from '../components/BarraNavegacionInicio';\nimport ContenidoMaterias from '../components/ContenidoMaterias';\n\nconst Inicio = () => {\n  return (\n    <>\n      <BarraNavegacionInicio />\n      <ContenidoMaterias />\n    </>\n  );\n};\n\nexport default Inicio;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/login/view/Login.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/view/Sala.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/BarraNavegacionInicio.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/ContenidoMaterias.tsx",["130"],"import {\n  Col,\n  Row\n}\nfrom 'antd';\nimport { get } from 'local-storage';\nimport { useEffect, useState } from 'react';\n\nimport TarjetaMateria from './TarjetaMateria';\nimport { obtenerSalas } from '../../library/services/sala.service';\nimport type { MateriaInformacion } from '../interfaces/MateriaInformacion';\n\n\nconst ContenidoMaterias = () => {\n  const [materiasInformacion, setMateriasInformacion] = useState<MateriaInformacion[]>([]);\n  \n  const [idUsuario, setIdUsuario] = useState();\n\n  useEffect(() => {\n    const { id } = get('sesion');\n    setIdUsuario(id);\n\n    const obtenerMaterias = async () => {\n      const salas: MateriaInformacion[]  = await obtenerSalas(id);\n      \n      if (salas)\n        setMateriasInformacion(salas)\n    };\n\n    obtenerMaterias();\n  }, []);\n\n  const materias = <Row align='middle' gutter={ [15, 15] } justify='center'>\n    {materiasInformacion.map((materia, index) => {\n      return (\n        <Col key={ index }>\n          <TarjetaMateria materia={ materia } />\n        </Col>\n      );\n    })}\n  </Row>\n  \n  \n  return (\n    <Row className='ContenidoMaterias' justify='center'>\n      <Col span={ 22 }>\n        { materias }\n      </Col>\n    </Row>\n  );\n};\n\nexport default ContenidoMaterias;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/login/components/FormularioLogin.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/login/components/ImagenLogin.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/BarraNavegacionSala.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/ChatSala.tsx",["131","132","133","134","135","136","137","138"],"import EntradaNuevoMensajeChatSala from '../components/EntradaNuevoMensajeChatSala';\nimport MensajesChatSala from '../components/MensajesChatSala';\nimport { FunctionComponent,useState, useEffect } from 'react';\nimport type { Mensaje } from '../interfaces/Mensajes';\nimport { obtenerMensajesSala } from '../../library/services/sala.service';\nimport { io , Socket} from'socket.io-client';\nimport { SalaDTO } from '../../library/interfaces/Sala';\n\ninterface PublicacionesSalaProps {\n  id: number;\n};\nconst uri:string = \"ws://localhost:8080\";\nconst ChatSala: FunctionComponent<PublicacionesSalaProps> = ( {id} ) => {\n\n\n\n  return (\n    <aside className='ChatSala'>\n      <h2 className='ChatSala__titulo'>Chat</h2>\n      <MensajesChatSala id={id}/>\n      <EntradaNuevoMensajeChatSala id={id}/>\n    </aside>\n  );\n  \n};\n\nexport default ChatSala;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/InformacionSala.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/PublicacionesSala.tsx",["139","140","141"],"import { Collapse } from 'antd';\nimport { useEffect,useState } from 'react';\nimport { getPublicaciones } from '../../library/services/publicacion.service'\nimport { Archivo,Publicacion } from '../../library/interfaces/Publicacion'\nimport { SalaDTO } from '../../library/interfaces/Sala'\nimport { FunctionComponent } from 'react';\n\nconst { Panel } = Collapse;\n\ninterface PublicacionesSalaProps {\n  id: number;\n};\nconst PublicacionesSala: FunctionComponent<PublicacionesSalaProps> = ( {id} ) => {\n\n  const [publicaciones2, setPublicaciones2] = useState<Publicacion[]>([]);\n  useEffect(() => {\n    const fetchData = async ()=>{\n      console.log(id);\n        const response = await getPublicaciones(id);\n\n        setPublicaciones2(response);\n    }\n    fetchData();\n}, []);\n\n  const publicaciones = publicaciones2.map((publicacion, index) => {\n    return (\n      <Collapse className='PublicacionesSala__publicacion' key={ index }>\n        <Panel header={ publicacion.titulo } key={ index }>\n          <p>{ publicacion.descripcion }</p>   \n          <a href={ publicacion.archivoUrl }> { publicacion.archivo?.nombre } </a>\n        </Panel>\n      </Collapse>\n    )\n  });\n  \n  return (\n    <section className='PublicacionesSala'>\n      <h2 className='PublicacionesSala__titulo'>Publicaciones</h2>\n      { publicaciones } \n    </section>\n  );\n};\n\nexport default PublicacionesSala;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/TarjetaMateria.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/EntradaNuevoMensajeChatSala.tsx",["142","143","144","145"],"import { FunctionComponent,useState,useEffect, ChangeEvent, useRef} from 'react';\nimport { Button, Col, Input, Row, Tooltip } from 'antd';\nimport { SendOutlined } from '@ant-design/icons';\nimport type { Mensaje } from '../interfaces/Mensajes';\nimport { publicar,enviarMensajeSala } from '../../library/services/sala.service';\nimport { getIdStorage  } from '../../library/services/fetch';\n\ninterface MensajesChatSalaProps {\n  mensajes?: Mensaje[];\n  id:number;\n};\nconst EntradaNuevoMensajeChatSala: FunctionComponent<MensajesChatSalaProps> = ({id}) => {\n  const [msn, setmsn] = useState<any>(\"\")\n  const txtRef = useRef<any>();\n\n  const onChange = () => {\n    if (txtRef.current) {\n      setmsn(txtRef.current.value);\n    }\n  };\n\n  const onSend = () => {\n    if (txtRef.current) {\n      console.log(\"Mensaje enviar:\",msn);\n      enviarMensajeSala({\n        \"fechaEnviado\":Date(),\n        \"texto\":msn,\n        \"idSala\":id,\n        \"idAutor\":getIdStorage()\n      });\n      setmsn(\"\");\n    }\n  };\n  return (\n    <Row align='middle' justify='center'>\n      <Col span={ 22 }>\n        <input type=\"text\" ref={txtRef} value={msn} \n        onChange={onChange} \n        style={{resize: 'none'}}/>\n      </Col>\n      \n      <Col span={ 1 }>\n        <Tooltip title='Enviar mensaje'>\n          <Button type='primary' shape='circle' icon={<SendOutlined />} onClick={onSend} />\n        </Tooltip>\n      </Col>\n    </Row>\n  );\n};\n\nexport default EntradaNuevoMensajeChatSala;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/MensajesChatSala.tsx",["146","147","148","149","150","151"],"import { FunctionComponent } from 'react';\n\nimport MensajeChatSala from './MensajeChatSala';\nimport MensajeChatSalaPropio from './MensajeChatSalaPropio';\n\nimport type { Mensaje } from '../interfaces/Mensajes';\n\nimport React, { useState, useCallback, useMemo, useRef,useEffect } from 'react';\nimport { obtenerMensajesSala } from '../../library/services/sala.service';\nimport { getIdStorage } from '../../library/services/fetch';\nimport io from'socket.io-client';\n\ninterface MensajesChatSalaProps {\n  mensajes?: Mensaje[];\n  id:number;\n};\n\n\nconst socketUrl = 'ws://localhost:8080/';\n\nconst MensajesChatSala: FunctionComponent<MensajesChatSalaProps> = ({id}) => {\n\n  const [mensajes, setMensajes] = useState<Mensaje[]>([]);\n  useEffect(() => {\n    const fetchData = async ()=>{\n      let response = await obtenerMensajesSala(id);\n      response = response.sort((a:any,b:any)=> a.id-b.id );\n      setMensajes(response);\n    }\n    setInterval(() => {\n      fetchData();\n    }, 3000);\n  }, []);\n\n\n  const conversacion = mensajes.map((mensaje, index) => {\n    if (getIdStorage() === mensaje.autor.id) { \n      return (\n        <MensajeChatSalaPropio key={ index } texto={ mensaje.texto } />\n      );\n    }\n    return (\n      <MensajeChatSala key={ index } texto={ mensaje.texto } \n      fechaEnviado={mensaje.fechaEnviado} \n        nombre={mensaje.autor.nombre} \n        primerApellido={mensaje.autor.primerApellido} segundoApellido={mensaje.autor.segudoApellido}\n       />\n    );\n  });\n  \n  return (\n    <div className=\"MensajesChatSala\">\n      {  conversacion }\n    </div>\n  );\n  \n};\n\nexport default MensajesChatSala;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/components/BarraNavegacion.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/sala.service.tsx",["152","153"],"import { post, get } from './fetch';\nimport type { MateriaInformacion } from '../../inicio/interfaces/MateriaInformacion';\nimport type { SalaDTO } from '../interfaces/Sala';\nimport { Mensaje } from '../../sala/interfaces/Mensajes';\nimport { io } from 'socket.io-client';\n\n\n\n\nexport const publicar = async (dto: any): Promise< boolean | null > => {\n  const response = await post('/publicacion/crear', dto);\n\n  if (!response || !response.data) {\n    return null;\n  } \n\n  return response.data;\n};\n\nexport const obtenerSalas = async (id: string): Promise<MateriaInformacion[]> => {\n  const response = await get(`usuario/buscar/salas/${id}`, {});\n  \n  return response.data;\n};\n\n\nexport const obtenerMensajesSala = async (idSala: number): Promise<Mensaje[]> => {\n  \n  const response = await get(`/mensaje/listar/${idSala}`, {});\n  console.log(response.data);\n  return response.data;\n};\n\nexport const enviarMensajeSala = async (mensaje: Object): Promise<Mensaje[]> => {\n  \n  const response = await post(`/mensaje/crear/`, mensaje);\n  console.log(response.data);\n  return response.data;\n};\n\n\n\n\nexport const joinRoom = async (idRoom: number): Promise<Mensaje[]> => {\n  const response = await get(`/mensaje/listar/${idRoom}`, {});\n  console.log(response.data);\n  return response.data;\n};\n\n\n\n\n\n\n\n\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/login.service.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/inicio/components/TituloTarjetaMateria.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/MensajeChatSalaPropio.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/sala/components/MensajeChatSala.tsx",[],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/fetch.tsx",["154"],"import axios from './axios';\nimport ls from 'local-storage';\nimport {RespuestaLogin} from '../interfaces/Login';\n\nexport const post = (endopoint: string, dto: object): Promise< any | null> => {\n  console.log(\"post serrion storage\");\n  return axios.post(endopoint, dto,getConfigToken());\n};\n\nexport const get = (endopoint: string, parameters: any): Promise<any | null> => {\n  const params = Object.entries(parameters).map((param: any) => `${param[0]}=${param[1]}`);\n  return axios.get(`${endopoint}?${params.join('&')}`,getConfigToken());\n};\n\nexport const getConfigToken = () => {\n  let sessionStr,config;\n  if((sessionStr = localStorage.getItem(\"sesion\"))){\n    let rsL:RespuestaLogin = JSON.parse(sessionStr);\n    console.log(\"TOKENNNNNNNNNnn\",rsL.access_token);\n    config = {\n      headers: { Authorization: `Bearer ${rsL.access_token}` }\n    }\n  }\n  return config;\n} \n\n\nexport const getIdStorage =():string => {\n  let sessionStr;\n  if((sessionStr = localStorage.getItem(\"sesion\"))){\n    let rsL:RespuestaLogin = JSON.parse(sessionStr);\n    return rsL.id;\n  }\n  return \"\";\n}\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/components/ModalPublicacion.tsx",["155"],"import { Button, Form, Input, Modal, Upload, message } from 'antd';\nimport React, { FunctionComponent, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { InboxOutlined } from '@ant-design/icons';\n\nimport { publicar } from '../services/sala.service';\n\ninterface ModalPublicacionProps {\n  visible: boolean;\n  setVisible: Function;\n};\n\nconst { Dragger } = Upload;\n\nconst ModalPublicacion: FunctionComponent<ModalPublicacionProps> = ({ visible, setVisible }) => {\n  const { id } = useParams();\n  const [archivo, setArchivo] = useState({});\n  const [botonHabilitado, setBotonHabilitado] = useState(true);\n\n  const crearPublicacion = async (valores: any) => {\n    if (botonHabilitado) {\n      const dto = {\n        idSala: id,\n        titulo: valores.titulo,\n        descripcion: valores.descripcion,\n        fechaPublicacion: new Date(),\n        archivo,\n      };\n\n      const response = await publicar(dto);\n    }\n  };\n\n  const props = {\n    name: 'archivo',\n    multiple: false,\n    maxCount: 1,\n    action: 'http://localhost:3000/api/archivo/subir',\n    onChange(info: any) {\n      const { status } = info.file;\n      \n      if (status === 'done') {\n        message.success(`${info.file.name} subido de forma exitosa.`);\n        \n        setArchivo({\n          nombre: info.file.name,\n          tamanio: info.file.size,\n          tipo: info.file.type,\n          url: info.file.response,\n        });\n\n        setBotonHabilitado(true);\n      } else if (status === 'error') {\n        message.error(`${info.file.name} hubo un error, intente de nuevo.`);\n        setBotonHabilitado(true);\n      }\n\n    },\n    beforeUpload(archivo: any) {\n      setBotonHabilitado(false);\n      return true;\n    },\n    onRemove() {\n      setArchivo({});\n    }\n  };\n\n  return (\n    <Modal\n      visible={ visible }\n      title=\"Crear publicacion\"\n      onCancel={ () => setVisible( false ) } \n      maskClosable={ false }\n      footer={null}\n    >\n      <Form onFinish={ crearPublicacion }>\n        <Form.Item label='Titulo' name='titulo' rules={[{ required: true, message: 'Se necesita un titulo para la publicacion.'}]}>\n          <Input/>\n        </Form.Item>\n\n        <Form.Item label='Descripcion' name='descripcion' rules={[{ required: true, message: 'Se necesita una descripcion para la publicacion.'}]}>\n          <Input.TextArea style={{ resize: 'none' }} rows={ 5 }/>\n        </Form.Item>\n\n        <Form.Item>\n          <Dragger {...props}>\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">Haz click o arrastra algun archivo</p>\n            <p className=\"ant-upload-hint\">\n              Archivo para la publicacion\n            </p>\n          </Dragger>\n        </Form.Item>\n\n        <Form.Item style={{ textAlign: 'center' }}>\n          <Button type='primary' htmlType='submit' disabled={ !botonHabilitado }>\n            Publicar\n          </Button>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default ModalPublicacion;\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/axios.tsx",[],["156","157"],"/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/services/publicacion.service.tsx",["158","159","160"],"import { post, get } from './fetch';\nimport type { RespuestaLogin } from '../interfaces/Login';\nimport type {  Publicacion, Archivo } from '../interfaces/Publicacion';\n\nexport const getPublicaciones = async (sala:number): \nPromise< Publicacion[] > => {\n\n  const response = await get(`/publicacion/buscar/sala/${sala}`,[\"a\",\"b\"]);\n\n  if (!response || !response.data) {\n    return [];\n  } \n\n  return response.data;\n};\n\n\nexport const getPublicaciones2 = async (sala:number): \nPromise< [] > => {\n\n  const response = await get(`/publicacion/buscar/sala/${sala}`,[\"a\",\"b\"]);\n\n  if (!response || !response.data) {\n    return [];\n  } \n\n  return response.data;\n};\n\n","/home/yo/Documents/develop/ing-software-develop/ing-software-frontend/src/library/interfaces/Sala.tsx",[],{"ruleId":"161","replacedBy":"162"},{"ruleId":"163","replacedBy":"164"},{"ruleId":"165","severity":1,"message":"166","line":2,"column":3,"nodeType":"167","messageId":"168","endLine":2,"endColumn":6},{"ruleId":"165","severity":1,"message":"169","line":3,"column":3,"nodeType":"167","messageId":"168","endLine":3,"endColumn":6},{"ruleId":"165","severity":1,"message":"170","line":17,"column":10,"nodeType":"167","messageId":"168","endLine":17,"endColumn":19},{"ruleId":"165","severity":1,"message":"171","line":3,"column":28,"nodeType":"167","messageId":"168","endLine":3,"endColumn":36},{"ruleId":"165","severity":1,"message":"172","line":3,"column":38,"nodeType":"167","messageId":"168","endLine":3,"endColumn":47},{"ruleId":"165","severity":1,"message":"173","line":4,"column":15,"nodeType":"167","messageId":"168","endLine":4,"endColumn":22},{"ruleId":"165","severity":1,"message":"174","line":5,"column":10,"nodeType":"167","messageId":"168","endLine":5,"endColumn":29},{"ruleId":"165","severity":1,"message":"175","line":6,"column":10,"nodeType":"167","messageId":"168","endLine":6,"endColumn":12},{"ruleId":"165","severity":1,"message":"176","line":6,"column":15,"nodeType":"167","messageId":"168","endLine":6,"endColumn":21},{"ruleId":"165","severity":1,"message":"177","line":7,"column":10,"nodeType":"167","messageId":"168","endLine":7,"endColumn":17},{"ruleId":"165","severity":1,"message":"178","line":12,"column":7,"nodeType":"167","messageId":"168","endLine":12,"endColumn":17},{"ruleId":"165","severity":1,"message":"179","line":4,"column":10,"nodeType":"167","messageId":"168","endLine":4,"endColumn":17},{"ruleId":"165","severity":1,"message":"177","line":5,"column":10,"nodeType":"167","messageId":"168","endLine":5,"endColumn":17},{"ruleId":"180","severity":1,"message":"181","line":24,"column":4,"nodeType":"182","endLine":24,"endColumn":6,"suggestions":"183"},{"ruleId":"165","severity":1,"message":"172","line":1,"column":37,"nodeType":"167","messageId":"168","endLine":1,"endColumn":46},{"ruleId":"165","severity":1,"message":"184","line":1,"column":48,"nodeType":"167","messageId":"168","endLine":1,"endColumn":59},{"ruleId":"165","severity":1,"message":"185","line":2,"column":23,"nodeType":"167","messageId":"168","endLine":2,"endColumn":28},{"ruleId":"165","severity":1,"message":"186","line":5,"column":10,"nodeType":"167","messageId":"168","endLine":5,"endColumn":18},{"ruleId":"165","severity":1,"message":"187","line":8,"column":27,"nodeType":"167","messageId":"168","endLine":8,"endColumn":38},{"ruleId":"165","severity":1,"message":"188","line":8,"column":40,"nodeType":"167","messageId":"168","endLine":8,"endColumn":47},{"ruleId":"165","severity":1,"message":"189","line":8,"column":49,"nodeType":"167","messageId":"168","endLine":8,"endColumn":55},{"ruleId":"165","severity":1,"message":"175","line":11,"column":8,"nodeType":"167","messageId":"168","endLine":11,"endColumn":10},{"ruleId":"165","severity":1,"message":"190","line":19,"column":7,"nodeType":"167","messageId":"168","endLine":19,"endColumn":16},{"ruleId":"180","severity":1,"message":"181","line":33,"column":6,"nodeType":"182","endLine":33,"endColumn":8,"suggestions":"191"},{"ruleId":"165","severity":1,"message":"177","line":3,"column":15,"nodeType":"167","messageId":"168","endLine":3,"endColumn":22},{"ruleId":"165","severity":1,"message":"175","line":5,"column":10,"nodeType":"167","messageId":"168","endLine":5,"endColumn":12},{"ruleId":"165","severity":1,"message":"192","line":2,"column":8,"nodeType":"167","messageId":"168","endLine":2,"endColumn":10},{"ruleId":"165","severity":1,"message":"193","line":30,"column":13,"nodeType":"167","messageId":"168","endLine":30,"endColumn":21},{"ruleId":"161","replacedBy":"194"},{"ruleId":"163","replacedBy":"195"},{"ruleId":"165","severity":1,"message":"196","line":1,"column":10,"nodeType":"167","messageId":"168","endLine":1,"endColumn":14},{"ruleId":"165","severity":1,"message":"197","line":2,"column":15,"nodeType":"167","messageId":"168","endLine":2,"endColumn":29},{"ruleId":"165","severity":1,"message":"179","line":3,"column":29,"nodeType":"167","messageId":"168","endLine":3,"endColumn":36},"no-native-reassign",["198"],"no-negated-in-lhs",["199"],"@typescript-eslint/no-unused-vars","'Col' is defined but never used.","Identifier","unusedVar","'Row' is defined but never used.","'idUsuario' is assigned a value but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","'Mensaje' is defined but never used.","'obtenerMensajesSala' is defined but never used.","'io' is defined but never used.","'Socket' is defined but never used.","'SalaDTO' is defined but never used.","'uri' is assigned a value but never used.","'Archivo' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.","ArrayExpression",["200"],"'ChangeEvent' is defined but never used.","'Input' is defined but never used.","'publicar' is defined but never used.","'useCallback' is defined but never used.","'useMemo' is defined but never used.","'useRef' is defined but never used.","'socketUrl' is assigned a value but never used.",["201"],"'ls' is defined but never used.","'response' is assigned a value but never used.",["198"],["199"],"'post' is defined but never used.","'RespuestaLogin' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"202","fix":"203"},{"desc":"202","fix":"204"},"Update the dependencies array to be: [id]",{"range":"205","text":"206"},{"range":"207","text":"206"},[764,766],"[id]",[984,986]]